# VCNFT Open Library

μ΄ ν”„λ΅μ νΈλ” ν΄λΌμ΄μ–ΈνΈ, μ΄μμ–΄, λ² λ¦¬νμ΄μ–΄μ κΈ°λ¥μ„ μ κ³µν•λ” **NFT κ΄€λ¦¬ λΌμ΄λΈλ¬λ¦¬**μ…λ‹λ‹¤. μ¤λ§νΈ μ»¨νΈλ™νΈλ¥Ό κΈ°λ°μΌλ΅ λ―Όν…, κ²€μ¦, μ„λ… κΈ°λ¥μ„ μν–‰ν•λ©°, μ λ‹› ν…μ¤νΈλ¥Ό ν†µν•΄ κ° κΈ°λ¥μ„ κ²€μ¦ν•©λ‹λ‹¤.

---

## π“‚ **ν”„λ΅μ νΈ κµ¬μ΅°**

```plaintext
VCNFT-OpenLibrary/
β”β”€β”€ src/                   # λΌμ΄λΈλ¬λ¦¬ μ†μ¤ μ½”λ“
β”‚   β”β”€β”€ Client.ts          # λ©”μ‹μ§€ μ„λ… λ° ν•΄μ‹ κΈ°λ¥ μ κ³µ
β”‚   β”β”€β”€ Issuer.ts          # NFT λ―Όν… λ° ν•΄μ‹ μƒμ„± κΈ°λ¥
β”‚   β””β”€β”€ Verifier.ts        # NFT κ²€μ¦ κΈ°λ¥ (ClaimHash κ²€μ¦ λ“±)
β”‚
β”β”€β”€ test/                  # μ λ‹› ν…μ¤νΈ μ½”λ“
β”‚   β”β”€β”€ 01_Issuer.test.ts  # Issuer κΈ°λ¥ ν…μ¤νΈ
β”‚   β”β”€β”€ 02_Verifier.test.ts # Verifier κΈ°λ¥ ν…μ¤νΈ (ν¨μ¤μ›λ“ μ—†λ” κ²½μ°)
β”‚   β”β”€β”€ 03_Verifier_Password.test.ts # Verifier κΈ°λ¥ ν…μ¤νΈ (ν¨μ¤μ›λ“ μλ” κ²½μ°)
β”‚   β””β”€β”€ Client.test.ts     # Client κΈ°λ¥ ν…μ¤νΈ
β”‚
β”β”€β”€ .env                   # ν™κ²½ λ³€μ νμΌ
β””β”€β”€ README.md              # ν”„λ΅μ νΈ κ°€μ΄λ“
```

---

## π€ **κΈ°λ¥ μ„¤λ…**

### 1. **Client** (`src/Client.ts`)
- **μ—­ν• **: λ©”μ‹μ§€ μ„λ… λ° λ©”μ‹μ§€ ν•΄μ‹λ¥Ό μƒμ„±ν•©λ‹λ‹¤.  
- **μ£Όμ” λ©”μ„λ“**:  
  - `signMessage(message: string)`: λ©”μ‹μ§€λ¥Ό λ°›μ•„ μ„λ…κ³Ό ν•΄μ‹λ¥Ό λ°ν™ν•©λ‹λ‹¤.

---

### 2. **Issuer** (`src/Issuer.ts`)
- **μ—­ν• **: NFTλ¥Ό λ―Όν…ν•κ³  Claim λ°μ΄ν„°λ¥Ό ν•΄μ‹ν™”ν•λ” κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.  
- **μ£Όμ” λ©”μ„λ“**:
  - `generateHash(claimData: object)`: Claim λ°μ΄ν„°λ¥Ό JSON λ¬Έμμ—΄λ΅ λ³€ν™ν•κ³  ν•΄μ‹λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
  - `mintToken(privateKey: string, request: MintRequest)`: ERC-721 μ»¨νΈλ™νΈμ— NFTλ¥Ό λ―Όν…ν•©λ‹λ‹¤.

---

### 3. **Verifier** (`src/Verifier.ts`)
- **μ—­ν• **: NFT κ²€μ¦ κΈ°λ¥μ„ μν–‰ν•©λ‹λ‹¤.
- **μ£Όμ” κΈ°λ¥**:  
  - **ClaimHash κ²€μ¦**: μ»¨νΈλ™νΈμ ClaimHashμ™€ μ‹¤μ  λ°μ΄ν„°λ¥Ό λΉ„κµν•©λ‹λ‹¤.
  - **μ„λ… κ²€μ¦**: μ μ €κ°€ μ κ³µν• μ„λ…μ΄ μ¬λ°”λ¥Έμ§€ ν™•μΈν•©λ‹λ‹¤.
  - **ν¨μ¤μ›λ“ μ²λ¦¬**: URIμ— ν¨μ¤μ›λ“λ¥Ό ν¬ν•¨ν•μ—¬ κ²€μ¦ν•  μ μλ„λ΅ μ μ—°ν•κ² μ²λ¦¬ν•©λ‹λ‹¤.

---

## β™οΈ **ν™κ²½ λ³€μ μ„¤μ •**

λ¨λ“  ν™κ²½ λ³€μλ” ν”„λ΅μ νΈ λ£¨νΈμ `.env` νμΌμ— μ„¤μ •λ©λ‹λ‹¤. μ•„λμ™€ κ°™μ€ κµ¬μ΅°λ΅ μ‘μ„±ν•΄ μ£Όμ„Έμ”.

```plaintext
# ν΄λΌμ΄μ–ΈνΈμ κ°μΈν‚¤ (λ©”μ‹μ§€ μ„λ… μ‹ μ‚¬μ©)
CLIENT_PRIVATE_KEY=<PK>

# μ΄μμ–΄μ κ°μΈν‚¤ (NFT λ―Όν… μ‹ μ‚¬μ©)
ISSUER_PRIVATE_KEY=<PK>

# μλ»λ κ°μΈν‚¤ (μ„λ… κ²€μ¦ μ‹¤ν¨λ¥Ό μ„ν• ν…μ¤νΈμ©)
WRONG_PRIVATE_KEY=<PK>

# μ¤λ§νΈ μ»¨νΈλ™νΈ μ£Όμ†
CONTRACT_ADDRESS=<ADDRESS>

# ABI νμΌ κ²½λ΅
ABI_PATH=src/abi/VCNFT.json

# ν…μ¤νΈμ© Token ID
TOKEN_ID=123456
```

### ν™κ²½ λ³€μ μ„¤λ…:
1. **CLIENT_PRIVATE_KEY**: ν΄λΌμ΄μ–ΈνΈ μ„λ… μƒμ„±μ— μ‚¬μ©ν•λ” κ°μΈν‚¤.  
2. **ISSUER_PRIVATE_KEY**: ν† ν°μ„ λ°κΈ‰(λ―Όν…)ν•  λ• μ‚¬μ©ν•λ” μ΄μμ–΄μ κ°μΈν‚¤.  
3. **WRONG_PRIVATE_KEY**: κ²€μ¦ μ‹¤ν¨ μ‹λ‚λ¦¬μ¤λ¥Ό ν…μ¤νΈν•  λ• μ‚¬μ©ν•λ” μλ»λ κ°μΈν‚¤.  
4. **CONTRACT_ADDRESS**: ERC-721 μ¤λ§νΈ μ»¨νΈλ™νΈ μ£Όμ†.  
5. **ABI_PATH**: μ»¨νΈλ™νΈ ABI(JSON νμΌ)μ κ²½λ΅.  
6. **TOKEN_ID**: ν…μ¤νΈμ— μ‚¬μ©λλ” NFTμ κ³ μ  ID.

---

## π§ **μ λ‹› ν…μ¤νΈ μ‹¤ν–‰**

μ λ‹› ν…μ¤νΈλ” `jest`λ¥Ό μ‚¬μ©ν•μ—¬ μ‘μ„±λμ—μΌλ©°, λ‹¤μ λ…λ Ήμ–΄λ΅ μ‹¤ν–‰ν•  μ μμµλ‹λ‹¤:

```bash
npm test
```

### **μ λ‹› ν…μ¤νΈ μ„¤λ…**
1. **`01_Issuer.test.ts`**:  
   - NFT λ―Όν… λ° ClaimHash μƒμ„± κΈ°λ¥μ„ ν…μ¤νΈν•©λ‹λ‹¤.  
2. **`02_Verifier.test.ts`**:  
   - ν¨μ¤μ›λ“κ°€ μ—†λ” μƒνƒμ—μ„ κ²€μ¦ κΈ°λ¥μ„ ν…μ¤νΈν•©λ‹λ‹¤.  
   - μλ»λ μ„λ…μ΄ μ „λ‹¬λ  κ²½μ° κ²€μ¦μ΄ μ‹¤ν¨ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.  
3. **`03_Verifier_Password.test.ts`**:  
   - ν¨μ¤μ›λ“κ°€ ν¬ν•¨λ URIλ¥Ό κ²€μ¦ν•λ” κΈ°λ¥μ„ ν…μ¤νΈν•©λ‹λ‹¤.  
4. **`Client.test.ts`**:  
   - λ©”μ‹μ§€ μ„λ… λ° ν•΄μ‹ μƒμ„± κΈ°λ¥μ„ ν…μ¤νΈν•©λ‹λ‹¤.

---

## π“¦ **μ„¤μΉ λ° μ‹¤ν–‰ λ°©λ²•**

### 1. **μμ΅΄μ„± μ„¤μΉ**
```bash
npm install
```

### 2. **ν™κ²½ λ³€μ μ„¤μ •**
`.env` νμΌμ„ μƒμ„±ν•κ³  ν•„μ”ν• λ³€μλ¥Ό μ…λ ¥ν•©λ‹λ‹¤.

### 3. **ν…μ¤νΈ μ‹¤ν–‰**
```bash
npm test
```
### μ λ‹› ν…μ¤νΈ μ£Όμ μ‚¬ν•­
ν„μ¬ ν•΄λ‹Ή ν”„λ΅μ νΈμ μ»¨νΈλ™νΈλ“±μ€ μ¤ν”μ†μ¤λ΅ κ³µκ°λμ–΄ μμ§€ μ•μ€λ°, μ λ‹›ν…μ¤νΈλ¥Ό μ •μƒλ™μ‘ μ‹ν‚¤λ ¤λ©΄ νΉμ • μ²΄μΈλ„¤νΈμ›ν¬λ‚ λ΅μ»¬ κ°€λ‹μ‰¬ λ“±μ— μ»¨νΈλ™νΈλ¥Ό λ°°ν¬ν• μƒνƒμ—¬μ•Ό λ¨. 

λ”°λΌμ„ μ  3μλ” μ λ‹›ν…μ¤νΈ λ¶κ°€λ¥ν• μƒνƒ, (μ¶”ν›„ μ •λ§ npmμ— μ¤ν”μ†μ¤ λΌμ΄λΈλ¬λ¦¬λ΅ μ—…λ΅λ“ ν• λ• μ΄λ¶€λ¶„λ„ mock ν•΄λ²„λ¦¬κ±°λ‚, evmκ³„μ—΄ νΌλΈ”λ¦­ λ„¤νΈμ›ν¬μ— μ»¨νΈλ™νΈλ¥Ό λ°°ν¬ν•΄λ‘ μƒκ°)

---

## π“ **λΌμ΄μ„ μ¤**
μ΄ ν”„λ΅μ νΈλ” MIT λΌμ΄μ„ μ¤λ¥Ό λ”°λ¦…λ‹λ‹¤.  
μμ λ΅­κ² μμ • λ° λ°°ν¬ν•  μ μμΌλ©°, μ› μ €μ‘μμ λ…μ‹λ¥Ό λ¶€νƒλ“λ¦½λ‹λ‹¤.

---

μ΄ κ°€μ΄λ“λ¥Ό λ°”νƒ•μΌλ΅ ν”„λ΅μ νΈλ¥Ό μ‹¤ν–‰ν•κ³  μ΄ν•΄ν•λ” λ° ν° μ–΄λ ¤μ›€μ΄ μ—†μ„ κ²ƒμ…λ‹λ‹¤!  
νΉμ‹ μ¶”κ°€ν•κ±°λ‚ μμ •ν•  λ¶€λ¶„μ΄ μλ‹¤λ©΄ μ–Έμ λ“  λ§μ”€ν•΄μ£Όμ„Έμ”. π€